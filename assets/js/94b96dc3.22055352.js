"use strict";(self.webpackChunkportfolio=self.webpackChunkportfolio||[]).push([[5094],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>m});var o=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,o,a=function(e,t){if(null==e)return{};var n,o,a={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=o.createContext({}),p=function(e){var t=o.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},c=function(e){var t=p(e.components);return o.createElement(s.Provider,{value:t},e.children)},d="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},h=o.forwardRef((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),d=p(n),h=a,m=d["".concat(s,".").concat(h)]||d[h]||u[h]||r;return n?o.createElement(m,i(i({ref:t},c),{},{components:n})):o.createElement(m,i({ref:t},c))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=n.length,i=new Array(r);i[0]=h;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[d]="string"==typeof e?e:a,i[1]=l;for(var p=2;p<r;p++)i[p]=n[p];return o.createElement.apply(null,i)}return o.createElement.apply(null,n)}h.displayName="MDXCreateElement"},1804:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>d,frontMatter:()=>r,metadata:()=>l,toc:()=>p});var o=n(7462),a=(n(7294),n(3905));const r={sidebar_label:"Install the SDK and Sample Code",sidebar_position:4,tags:["Raspberry Pi","Git","Github","Linux","Google Assistant SDK","VS Code","Google"]},i="Install the SDK and Sample Code",l={unversionedId:"Developer/SDK/install-sdk",id:"Developer/SDK/install-sdk",title:"Install the SDK and Sample Code",description:"Follow these instructions to install the SDK and sample code in your project. Run all of the commands on this page in a terminal on the device (either directly or via an SSH connection).",source:"@site/docs/Developer/SDK/install-sdk.md",sourceDirName:"Developer/SDK",slug:"/Developer/SDK/install-sdk",permalink:"/portfolio/docs/Developer/SDK/install-sdk",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Developer/SDK/install-sdk.md",tags:[{label:"Raspberry Pi",permalink:"/portfolio/docs/tags/raspberry-pi"},{label:"Git",permalink:"/portfolio/docs/tags/git"},{label:"Github",permalink:"/portfolio/docs/tags/github"},{label:"Linux",permalink:"/portfolio/docs/tags/linux"},{label:"Google Assistant SDK",permalink:"/portfolio/docs/tags/google-assistant-sdk"},{label:"VS Code",permalink:"/portfolio/docs/tags/vs-code"},{label:"Google",permalink:"/portfolio/docs/tags/google"}],version:"current",sidebarPosition:4,frontMatter:{sidebar_label:"Install the SDK and Sample Code",sidebar_position:4,tags:["Raspberry Pi","Git","Github","Linux","Google Assistant SDK","VS Code","Google"]},sidebar:"tutorialSidebar",previous:{title:"Register the Device Model",permalink:"/portfolio/docs/Developer/SDK/register-device"},next:{title:"Run the Sample Code",permalink:"/portfolio/docs/Developer/SDK/run-sample-code"}},s={},p=[{value:"Configure the environment",id:"configure-the-environment",level:2},{value:"Get the package",id:"get-the-package",level:2},{value:"Generate credentials",id:"generate-credentials",level:2}],c={toc:p};function d(e){let{components:t,...n}=e;return(0,a.kt)("wrapper",(0,o.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"install-the-sdk-and-sample-code"},"Install the SDK and Sample Code"),(0,a.kt)("p",null,"Follow these instructions to install the SDK and sample code in your project. Run all of the commands on this page in a terminal on the device (either directly or via an SSH connection)."),(0,a.kt)("admonition",{title:"Note:",type:"note"},(0,a.kt)("p",{parentName:"admonition"},"These instructions assume a Python environment running on a Linux platform. The SDK and sample code are currently only available in Python, but the Google Service API is available in many other languages and platforms.")),(0,a.kt)("h2",{id:"configure-the-environment"},"Configure the environment"),(0,a.kt)("p",null,"Use a Python virtual environment to isolate the SDK and its dependencies from the system Python packages."),(0,a.kt)("admonition",{title:"Note:",type:"note"},(0,a.kt)("p",{parentName:"admonition"},"For the Raspberry Pi, run the following commands from the /home/pi directory.")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"(Recommended) For Python 3:")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"sudo apt-get update\nsudo apt-get install python3-dev python3-venv\npython3 -m venv env\nenv/bin/python -m pip install --upgrade pip setuptools wheel\nsource env/bin/activate\n")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"For Python 2.7:")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"sudo apt-get update\nsudo apt-get install python-dev python-virtualenv\nvirtualenv env --no-site-packages\nenv/bin/python -m pip install --upgrade pip setuptools wheel\nsource env/bin/activate\n")),(0,a.kt)("h2",{id:"get-the-package"},"Get the package"),(0,a.kt)("p",null,"The Google Assistant SDK package contains all the code required to get the Google Assistant running on the device, including the sample code."),(0,a.kt)("p",null,"Install the package's system dependencies:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"sudo apt-get install portaudio19-dev libffi-dev libssl-dev\n")),(0,a.kt)("p",null,"Use ",(0,a.kt)("inlineCode",{parentName:"p"},"pip")," to install the latest version of the Python package in the virtual environment:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"python -m pip install --upgrade google-assistant-sdk[samples]\n")),(0,a.kt)("h2",{id:"generate-credentials"},"Generate credentials"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"Install or update the authorization tool:")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"python -m pip install --upgrade google-auth-oauthlib[tool]\n")),(0,a.kt)("ol",{start:2},(0,a.kt)("li",{parentName:"ol"},"Generate credentials to be able to run the sample code and tools. Reference the JSON file you downloaded in a previous step; you may need to copy it the device. Do not rename this file.")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"google-oauthlib-tool --scope https://www.googleapis.com/auth/assistant-sdk-prototype \\\n --save --headless --client-secrets /path/to/client_secret_client-id.json\n")),(0,a.kt)("p",null,"You should see a URL displayed in the terminal:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"Please visit this URL to authorize this application: https://...\n")),(0,a.kt)("ol",{start:3},(0,a.kt)("li",{parentName:"ol"},"Copy the URL and paste it into a browser (this can be done on any system). The page will ask you to sign in to your Google account. Sign into the Google account that created the developer project in the previous step.")),(0,a.kt)("admonition",{title:"Note:",type:"note"},(0,a.kt)("p",{parentName:"admonition"},"Note: To use other accounts, first add those accounts to your Actions Console project as Owners.")),(0,a.kt)("ol",{start:4},(0,a.kt)("li",{parentName:"ol"},'After you approve the permission request from the API, a code will appear in your browser, such as "4/XXXX". Copy and paste this code into the terminal:')),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"Enter the authorization code:\n")),(0,a.kt)("p",null,"If authorization was successful, you will see a response similar to the following:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"credentials saved: /path/to/.config/google-oauthlib-tool/credentials.json\n")),(0,a.kt)("p",null,"If instead you see ",(0,a.kt)("inlineCode",{parentName:"p"},"InvalidGrantError"),", then an invalid code was entered. Try again, taking care to copy and paste the entire code."),(0,a.kt)("admonition",{title:"Note:",type:"note"},(0,a.kt)("p",{parentName:"admonition"},"Note: The authorization tool creates a new credentials.json file in a hidden .config directory on the device. This file contains an access token that is used to call the Google Assistant API.")))}d.isMDXComponent=!0}}]);